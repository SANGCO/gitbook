
## 1장 네트워크 첫걸음



### LESSON. 00 네트워크 입문 강의 개강!



### LESSON. 01 네트워크의 구조

- 컴퓨터 네트워크란?
  - 네트워크란 컴퓨터 간의 연결만을 말하는 건 아니다.
    - 사람과 사람의 네트워크, 도로와 철도의 네트워크, 물류 네트워크와 같이 다양한 네트워크가 있다.
  - 컴퓨터 한 대만으로는 컴퓨터 네트워크라고 할 수 없지만, 두 대 이상이면 훌륭한 **컴퓨터 네트워크**가 된다.
  - 앞으로 이 책에서 컴퓨터 네트워크를 **네트워크**라고 부른다.
  - **인터넷**은 전 세계의 큰 네트워크부터 작은 네트워크까지를 연결하는 거대한 네트워크를 말한다.
- 패킷이란?
  - 네트워크나 인터넷에서 데이터를 주고받으려면 규칙이 있어야 한다.
  - **패킷**은 컴퓨터 간에 데이터를 주고받을 때 **네트워크를 통해 전송되는 데이터의 작은 조각**을 말한다.
    - 큰 데이터가 있더라도 작게 나누어서 보내는 게 규칙이다.
  - 패킷이 도착하면 번호순으로 정렬한다.
    - `그림 1-5` 패킷이 도착하면 번호순으로 정렬한다 참고 



### LESSON 02. 정보의 양을 나타내는 단위

- 비트와 바이트란?
  - 컴퓨터는 0과 1밖에 이해하지 못한다.
  - 정보를 나타내는 최소 단위를 **비트**라고 하며, 비트 여덟 개를 1**바이트**라고 한다.
  - 숫자와 문자의 대응표를 **문자 코드**라고 한다.
    - `ASCII` 코드는 알파벳, 기호, 숫자 등을 다둘 수 있는 **기본적인 문자 코드**이다.
      - 키보드에서 `C`키를 누르면 컴퓨터로 문자 코드가 전달되고, 컴퓨터는 그 키에 대응하는 문자 코드인 67을 확인하고 화면에 C를 표시하는 거예요.
  - 네트워크에 데이터를 전송하는 경우에는 비트 정보를 **전기 신호**로 변환하기 때문에 실제로는 네트워크에 전기 신호가 전송되고 있다.



### LESSON 03. 랜과 왠

- 랜과 왠의 차이

  - **랜(LAN)**

    - **Local** Area Network(근거리 통신망)
    - 가정이나 빌딩 안에 있는 사무실 같이 지리적으로 제한된 곳에서 컴퓨터와 프린터를 연결할 수 있는 네트워크

  - **왠(WAN)**

    - **Wide** Area Network(광역 통신망)
    - 지리적으로 넓은 범위에 구축된 네트워크로
    - 인터넷 서비스 제공자(ISP)가 제공하는 서비스를 사용하여 구축된 네트워크
    - 랜과 랜을 연결하는 것으로 생각해도 된다.
      - 서울과 부산에 사무실이 있다고 가정하고 두 사무실을 네트워크로 연결한다면?
        - 거리는 멀리 떨어져 있지만 인터넷 서비스 제공자의 서비스를 사용하여 네트워크를 구축할 수 있다.
          - `그림 1-9` 인터넷 서비스 제공자의 서비스를 사용하여 구축한다 참고 

  - |      |            랜            |          왠          |
    | :--: | :----------------------: | :------------------: |
    | 범위 | 좁다(건물이나 특정 지역) | 넓다(랜과 랜을 연결) |
    | 속도 |          빠르다          |        느리다        |
    | 오류 |           적다           |         많다         |



### LESSON 04. 가정에서 하는 랜 구성

- 가정에서의 네트워크 구성

  - 인터넷을 사용하려면 먼저 인터넷 서비스 제공자(ISP)와 인터넷 회선을 결정해야 한다.
  - 랜 케이블이 필요하면 **유선**이고 랜 케이블이 필요하지 않으면 **무선**이라고 기억하자.
  - 인터넷 공유기
    - 영어로 broadband router(브로드밴드 라우터)
    - 가정이나 소규모 기업에서 인터넷에 접속할 때 쓰인다.
    - 가정용으로 만든 라우터라고 생각하면 된다.
    - 최근에는 라우터의 기능뿐만 아니라 허브, 스위칭 허브, 방화벽과 같은 다양한 기능도 제공한다.

  

### LESSON 05. 회사에서 하는 랜 구성

- 소규모 회사에서의 네트워크 구성
  - DMZ(DeMilitarized Zone)는 외부에 공개하기 위한 네트워크
    - `그림 1-12` 회사에서의 랜구성 예 참고
      - 라우터와 스위치 위치 체크
  - 회사에서는 서버를 운영하기 위해 서버를 사내에 설치하거나 데이터 센터에 두거나 클라우드(cloud)에 둘 수 있다.
    - 사내 또는 데이터 센터에 서버를 두고 운영하는 것을 **온프레미스**(on-premise)라고 한다.



## 2장 네트워크의 기본 규칙



### LESSON 06. 네트워크의 규칙

- 프로토콜이란?
  - 일상생활에서 지켜야 하는 규칙이 있듯이, 네트워크에서도 문제없이 통신하려면 **규칙(약속)**을 지켜야 한다.
  - 편지를 배송하기 위해서는 편지를 쓸 때부터 상대방에게 도착할 때까지 지켜야 하는 독립적인 여러 규칙을 거쳐야 한다.



### LESSON 07. OSI 모델과 TCP/IP 모델

- OSI 모델이란?
  - OSI 모델은 7계층으로 위에서부터 응용 계층, 표현 계층, 세션 계층, 전송 계층, 네트워크 계층, 데이터 링크 계층, 물리 계층이 있다.
- TCP/IP 모델이란?
  - OSI 모델은 7계층이지만 TCP/IP 모델은 4계층이다.
  - 위에서부터 응용 계층, 전송 계층, 인터넷 계층, 네트워크 접속 계층이 있다.
  - 현재는 TCP/IP 모델을 사용하고 있다.



### LESSON 08 캡슐화와 역캡슐화

- 캡슐화와 역캡슐화란?
  - 데이터를 보낼 때는 필요한 정보를 데이터에 추가해야 하는데 이 정보를 헤더라고 한다.
  - 트레일러는 데이터를 전달할 때 데이터의 마지막에 추가하는 정보를 말한다.
  - 데이터를 상대방에게 보낼 때 **각 계층에서 헤더**(데이터 링크 계층의 트레일러도 포함)를 붙여 나가는 것을 **캡슐화**라고 한다.
  - 데이터를 수신할 때 각 계층에서 헤더(데이터 링크 계층의 트레일러도 포함)를 제거해 나가는 것을 **역캡슐화**라고 한다.
  - 송신 측의 데이터 링크 계층에서 만들어진 데이터가 전기 신호로 변환되어 수신 측에 전송
    - `그림 2-11` 네트워크 계층 >>> 데이터 링크 계층으로 전달(캡슐화) 참고
- **VPN**(Virtual Private Network)
  - 가상 통신 터널을 만들어 기업 본사나 지사와 같은 거점 간을 연결하여 통신하거나 외부에서 인터넷으로 사내에 접속하는 것을 말한다.
    - 예를 들어 서울에 본사가 있고 부산에 지사가 있다면 본사 내부 랜에서 지사 내부 랜에 접속해 통신하는건 물리적으로 힘드니 VPN을 사용하여 본사와 지사를 연결하여 통신할 수 있다.
  - 인터넷 VPN
    - 거점 간 접속
      - **IPsec**이라는 **암호 기술 프로토콜**을 사용하여 접속
    - 원격 접속 연결
      - 외부에서 사용하는 컴퓨터와 사내 네트워크를 연결하기 때문에 **암호화된 통신로**를 만든다.
  - IP-VPN
    - MPLS라는 기술을 사용하며 인터넷망이 아닌 **통신 사업자 전용 폐쇄망**을 사용한다.
      - 폐쇄망을 사용하기 때문에 제삼자에 의한 해킹이나 데이터 변조의 위험이 없어 암호화 기능이 필요하지 않다.



## 3장 물리 계층 : 데이터를 전기 신호로 변환하기



### LESSON 09 물리 계층의 역할과 랜 카드의 구조

- 전기 신호란?
  - 전기 신호에는 아날로그 신호와 디지털 신호가 있다.
    - 아날로그 신호는 전화 회선이나 라디오 방송에 사용되는 신호다.
    - `그림 3-2` 아날로그 신호와 디지털 신호의 파형 참고
- 랜 카드란?
  - 컴퓨터가 네트워크를 통해 데이터를 송수신 하려면 메인 보드에 포함되어 있는 내장형 랜 카드나 별도의 랜 카드를 가지고 있어야 한다.
  - 0과 1만으로 이루어진 비트열을 전기 신호로 변환하려면 맨 아래 계층인 물리 계층의 기술이 필요하다.
    - 물리 계층은 **컴퓨터와 네트워크 장비를 연결**하고 **컴퓨터와 네트워크 장비 간에 전송되는 데이터를 전기 신호로 변환**하는 계층이다.



### LESSON 10 케이블의 종류와 구조

- 전송 매체는 데이터가 흐르는 물리적인 선로로 종류가 크게 유선과 무선으로 나눠져요.
  - 유선에는 트위스트 페어 케이블, 광케이블 등이 있다.
  - 무선에는 라디오파, 마이크로파, 적외선 등이 있다.
- 트위스트 페어 케이블이란?
  - 실드는 금속호일이나 금속의 매듭과 같은 것으로 외부에서 발생하는 노이즈(noise)를 막는 역할을 한다.
  - 트위스트 페어 케이블의 종류에는 UTP 케이블과 STP 케이블이 있다.
    - UTP 케이블은 구리 선 여덟 개를 두 개씩 꼬아 만든 네 쌍의 전선으로 실드(shield)로 보호되어 있지 않은 케이블이다.
      - UTP 케이블은 실드로 보호되어 있지 않아서 노이즈의 영향을 받기 쉽지만 저렴하기 때문에 일반적으로 많이 사용되는 케이블이다.
    - STP 케이블은 두 개씩 꼬아 만든 선을 실드로 보호한 케이블이다.
      - UTP 케이블과 달리 노이즈의 영향을 매우 적게 받지만 비싸기 때문에 보편적으로 사용하지는 않는다.
  - 트위스트 페어 케이블(UTP, STP)은 일반적으로 **랜 케이블**(LAN cable, **랜 선**)이라고 한다.
  - 랜 케이블의 양쪽 끝에는 RJ-45라고 부르는 커넥터가 붙어 있다.
- 다이렉트 케이블과 크로스 케이블이란?
  - 랜 케이블의 종류에는 다이렉트 케이블과 크로스 케이블이 있다.
  - 다이렉트 케이블은 구리 선 여덟 개를 같은 순서로 커넥터에 연결한 케이블이다.
    - `그림 3-7` 다이렉트 케이블의 구조 참고
  - 크로스 케이블은 구리 선 여덟 개 중 한쪽 커넥터의 1번과 2번에 연결되는 구리 선을 다른 쪽 커넥터의 3번과 6번에 연결한 케이블이다.
    - 1번, 2번 수신  /  3번, 6번 송신
      - 다이렉트 케이블과 크로스 케이블 둘 다 1, 2, 3, 6번 구리 선만 사용하고 나머지 선 네 개는 사용하지 않는다.
    - `그림 3-8` 크로스 케이블의 구조 참고
  - 다이렉트 케이블은 **컴퓨터와 스위치**를 연결할 때 사용하고, 크로스 케이블은 **컴퓨터 간에** 직접 랜 케이블로 연결할 때 사용한다.



### LESSON 11 리피터와 허브의 구조

- 리피터란?
  - 리피터는 전기 신호를 정형(일그러진 전기 신호를 복원)하고 증폭하는 기능을 가진 네트워크 중계 장비이다.
    - 멀리 있는 상대방과도 통신할 수 있도록 파형을 정상으로 만드는 기능을 한다.
    - 요즘은 다른 네트워크 장비가 리피터 기능을 지원하기 때문에 리피터를 쓸 필요가 없다.
- 허브란?
  - 허브는 포트(실제로 통신하는 통로)를 여러 개 가지고 있고 리피터 허브라고도 불린다.
    - 리피터는 일대일 통신만 가능하지만 허브는 포트를 여러 개 가지고 있어서 컴퓨터 여러 대와도 통신할 수 있다.
    - 허브는 리피터와 마찬가지로 전기 신호를 정형하고 증폭하는 기능을 한다.
    - 허브는 어떤 특정 포트로부터 데이터를 받는다면 해당 포트를 제외한 나머지 모든 포트로도 받은 데이터를 전송하는 특징이 있다.
      - 허브 스스로 판단하지 않고, 전기 신호를 모든 포트로 보내서 데미 허브라는 이름으로 불리기도 한다.
        - 이런 비효율에 대한 대책으로 나온 게 **스위치**라고 하는 네트워크 장비이다.



## 4장 데이터 링크 계층 : 랜에서 데이터 전송하기



### LESSON 12 데이터 링크 계층의 역할과 이더넷

- 데이터 링크 계층의 역할
  - 데이터 링크 계층은 **네트워크 장비 간에 신호를 주고받는 규칙**을 정하는 계층으로, **랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층**이다.
- 이더넷이란?
  - 랜에서 적용되는 규칙
  - 이더넷은 허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을 때 사용한다.
  - 허브는 들어온 데이터를 그대로 모든 포트에 보내기 때문에 컴퓨터 여러 대가 동시에 데이터를 보내면 데이터들이 서로 부딪힐 수도 있는데 이것을 **충돌**(collision)이라고 한다.
    - 이더넷은 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어 있다.
- 이더넷에서 시점을 늦추는 방법을 CSMA/CD라고 한다.
  - CS는 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인한다는 규칙이다.
  - MA는 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다는 규칙이다.
  - CD는 충돌이 발생하고 있는지를 확인한다는 규칙이다.
  - 지금은 효율이 좋지 않다는 이유로 CSMA/CD는 거의 사용하지 않는다.
    - 스위치(switch)라는 네트워크 장비를 사용하면 충돌이 일어나지 않는다.



### LESSON 13 MAC 주소의 구조

- **MAC 주소**란?
  - 랜 카드에는 MAC 주소라는 번호가 정해져 있다.
    - 제조할 때 새겨지기 때문에 물리 주소라고도 부르는데 전 세계에서 유일한 번호로 할당되어 있다.
  - MAC 주소는 48비트 숫자로 구성되어 있다.
    - 그중 앞쪽 24비트는 랜 카드를 만든 제조사 번호고 뒤쪽 24비트는 제조사가 랜 카드에 붙인 일련번호다.
      - 00-23-AE-D9-7A-9A
        - 00-23-AE
          - 랜 카드를 만든 제조사 번호
        - D9-7A-9A
          - 제조사가 붙인 일련번호
- OSI 모델에서는 **데이터 링크 계층**에 해당하고 TCP/IP 모델에서는 **네트워크 계층**에 해당하는데, 이 계층에서 이더넷 헤더와 트레일러를 붙인다.
  - **이더넷 헤더**는 목적지의 MAC 주소(6바이트), 출발지 MAC 주소(6바이트), 유형(2바이트) 이렇게 총 14바이트로 구성되어 있다.
    - 유형에는 프로토콜 종류를 식별하는 번호가 들어간다.
      - 프로토콜(유형 번호)
        - IPv4(0800)
        - IPv6(86DD)
  - **트레일러**는 FCS(Frame Check Sequence)라고도 하는데, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도로 사용한다.
- 이더넷 헤더와 트레일러가 추가된 데이터를 **프레임**이라고 한다.
- 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 프레임을 만들고, 물리 계층에서 이 프레임 비트열을 전기 신호로 변환하여 네트워크를 통해 전송한다.
  - 수신측에서는 목적지 MAC 주소가 자신의 MAC 주소와 다르면 데이터를 파기한다.



### LESSON 14 스위치의 구조

- **스위치**(switch)

  - 스위치는 데이터 링크 계층에서 동작하고 레이어 2 스위치 또는 **스위칭 허브**라고도 불린다.
    - 장비 외형은 허브와 비슷하다.

- **MAC 주소 테이블**

  - 스위치 내부에는 MAC 주소 테이블(MAC address table)이라는 것이 있다.
  - MAC 주소 테이블은 스위치의 **포트 번호**와 해당 포트에 연결되어 있는 컴퓨터의 **MAC 주소**가 등록되는 데이터베이스다. 

- MAC 주소 학습 기능

  - 스위치는 컴퓨터에서 목적지 MAC 주소가 추가된 프레임이라는 데이터가 전송되면 MAC 주소 테이블을 확인하고 출발지 MAC 주소가 등록되어 있지 않으면 MAC 주소를 포트와 함께 등록한다.

- 스위치가 수신 포트 이외의 모든 포트에서 데이터를 송신하는 것을 **플러딩**이라고 한다.

  - 목적지 MAC 주소가 MAC 주소 테이블에 등록되어 있지 않으면 플러딩이 일어난다.

- 스위치에서 MAC 주소를 기준으로 목적지를 선택하는 것을 **MAC 주소 필터링**이라고 한다.

  - 불필요한 데이터를 네트워크에 전송하지 않게 된다.
  
  

### LESSON 15 데이터가 케이블에서 충돌하지 않는 구조

- 전이중 통신과 반이중 통신
  - **전이중 통신 방식**은 데이터의 송수신을 동시에 통신하는 방식
  - **반이중 통신 방식**은 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식
  - 스위치는 충돌이 일어나지 않는 구조로 되어 있기 때문에 전이중 통신 방신으로도 데이터를 주고받을 수 있다.
  - 허브를 사용하면 충돌이 생기면서 네트워크 지연이 발생하기 때문에 최근에는 네트워크로 스위치를 사용하는 것이 표준이다.
    - 지금은 네트워크 업체 대부분이 허브를 팔지 않고 주로 스위치만 팔고 있다.
- 충돌 도메인이란?
  - 충돌이 발생할 때 그 영향이 미치는 범위를 **충돌 도메인**(collision domain)이라고 한다.
  - 허브는 충돌의 영향이 모든 컴퓨터에 미친다.
  - 스위치는 데이터를 동시에 송수신할 수 있는 전이중 통신 방식이기 때문에 충돌이 일어나지 않고 충돌 도메인의 범위도 좁다.
- ARP(Address Resolution Protocol)
  - ARP는 목적지 컴퓨터의 IP 주소를 이용하여 MAC 주소를 찾기 위한 프로토콜이다.
  - 이더넷 프레임을 전송하려면 목적지 컴퓨터의 MAC 주소를 지정해야 한다.
  - 출발지 컴퓨터가 목적지 주소를 모르면 MAC 주소를 알아내기 위해서 네트워크에 브로드캐스트를 하는데 이것을 ARP 요청이라고 한다.



### LESSON 16 이더넷의 종류와 특징

- 이더넷 규격
  - 이더넷은 케이블 종류나 통신 속도에 따라 다양한 규격으로 분류된다.
    - 10-BASE-T
      - 10
        - Mbps 단위인 통신 속도로 10Mbps라는 뜻
      - BASE
        - BASEBAND라는 전송 방식을 나타낸다.
          - 펄스 신호에 의한 디지털 전송 방식
      - T
        - 케이블 종류를 나타낸다.
    - 10BASE5
      - 동축케이블과 UTP 케이블을 표시하는 방법이 다르다.
        - 동축 케이블은 옛날 티비 안테나 선을 생각하면 된다.
        - 하이픈 뒤는 케이블 길이나 케이블 종류를 나타내지만, 동축케이블은 케이블의 최대 길이를 100미터 단위로 표시한다.
      - 10BASE5는 케이블의 최대 길이가 500미터이므로 5로 표시되어 있다.
    - 2018년 기준으로 최근 컴퓨터 랜 포트는 1000BASE-T가 일반적이고 조금씩 10GBASE-T도 많아지고 있다.



## 5장 네트워크 계층 : 목적지에 데이터 전달하기



### LESSON 17 네트워크 계층의 역할

- 네트워크 간의 연결 구조
  - 데이터 링크 계층에서는 이더넷 규칙을 기반으로 데이터의 전송을 담당한다.
    - 이 규칙에 따라 **같은 네트워크**에 있는 컴퓨터로는 데이터를 전송할 수 있지만, **인터넷이나 다른 네트워크**로는 데이터를 전송할 수 없다.
    - `그림 5-2` 수많은 네트워크가 연결된 환경 참고
  - **네트워크 간의 통신**을 가능하게 하는 것이 네트워크 계층의 역할이다.
    - 이 계층을 통해 다른 네트워크로 데이터를 전송하려면 **라우터**(router)라는 네트워크 장비가 필요하다.
  - 라우터는 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는것이 좋은지를 알려 주는 기능을 한다.
    - 데이터를 보낼 때 필요한 목적지 주소가 IP 주소이다.
      - MAC 주소와는 다른 **네트워크를 식별**할 수 있는 IP주소
      - **어떤 네트워크의 어떤 컴퓨터인지를 구분**할 수 있도록 하는 주소
    - 목적지 IP 주소까지 **어떤 경로로 데이터를 보낼지 결정**하는 것을 **라우팅**(routing)이라고 한다.
      - 라우팅은 라우터라는 장비가 한다.
      - 레이어 3 스위치도 할 수 있다.
        - 스위치의 구분 (어떤 주소를 가지고 스위칭을 하는가에 따라)
          - L2(Data Link Layer)
            - Mac Address
          - L3(Network Layer)
            - IP Address
          - L4(Transport Layer)
            - IP + Port
          - L7(Application Layer)
            - IP + Port + 패킷 내용
  - 라우터를 사용하여 거리에 관계없이 다른 네트워크로 데이터를 보낼 수 있다.
    - 라우터에는 **라우팅 테이블**(routing table)이 있어서 경로 정보를 등록하고 관리한다.
- IP란?
  - 네트워크 계층에는 IP(Internet Protocol)라는 프로토콜이 있다.
    - 위에서 데이터를 다른 네트워크에 있는 목적지까지 보내려면 라우터가 필요하다고 했는데 사실은 이 IP가 있어서 가능한 것이다.
  - IP 프로토콜을 사용하여 캡슐화할 때는 데이터에 IP 헤더가 추가되는데, 이렇게 만들어진 것을 **IP 패킷**이라고 한다.
    - 데이터 링크에서는 프레임이었는데 네트워크 계층에서는 IP 패킷이다.
      - 애플리케이션 레이어부터 생각하면 IP 패킷에 헤더와 트레일러를 붙여서 프레임을 만들겠지
  - IP 헤더
    - 1. 버전   /   2. 헤더 길이   /   3. 서비스 유형
    - 4. 전체 패킷 길이   /   5. ID(일련번호)   /   6. 조각 상태
    - 7. 조각의 위치   /   8. TTL   /   9. 프로토콜
    - 10. 헤더 체크섬   /   11. **출발지 IP 주소**(32비트)   /   12. **목적지 IP 주소**(32비트) 
    - `그림 5-5` IP 헤더 참고



### LESSON 18. IP 주소의 구조

- IP 주소란?
  - IP 주소는 인터넷 서비스 제공자(ISP)에게 받을 수 있다.
    - 집에서 인터넷을 한다고 하면 계약한 통신사가 ISP이다.
  - IP 버전
    - IPv4
      - **32비트**
      - IP 주소 약 43억 개 만들 수 있다.
        - 2^32
    - IPv6
      - **128비트**
      - IP 주소 340간 개 만들 수 있다.
        - 2^128
        - 340조의 1조 배의 1조 배로 사실상 무한대
        - 60억 전 세계 사람들에게 1인당 5.6양 개를 할당 할 수 있다고 한다.
        - IPv6 네트워크가 보급되면서 가정에 있는 TV나 에어컨에서도 인터넷을 연결하여 통신 할 수 있게 되었다.
- 공인 IP 주소와 사설 IP 주소
  - 공인 IP 주소
    - 인터넷 서비스 제공자(ISP)가 제공
    - 인터넷에 직접 연결되는 컴퓨터나 라우터에는 공인 IP 주소를 할당
  - 사설 IP 주소
    - 회사나 가정의 랜에 있는 컴퓨터는 사설 IP 주소를 할당
  - `그림 5-6` 공인 IP 주소와 사설 IP 주소
    - 우선 인터넷 서비스 공급자가 제공하는 공인 IP 주소는 라우터에만 할당
    - 랜 안에 있는 컴퓨터에는 랜의 네트워크 관리자가 자유롭게 사설 IP 주소를 할당하거나 라우터의 DHCP 기능을 사용하여 주소를 자동으로 할당
      - DHCP
        - Dynamic Host Configuration Protocol의 약어로 IP 주소를 자동으로 할당하는 프로토콜
- IP 주소는 32비트 
  - 공인 IP 주소와 사설 IP 주소는 모두 2진수의 32비트를 동일하게 사용하고 있다.
  - **MAC 주소**는 48비트로 구분하기 쉽도록 **16진수**로 표시하고, **IP 주소**는 32비트로 구분하기 쉽도록 **10진수**로 표시한다.
    - `그림 5-10` 2진수를 10진수로 변환 참고
  - 32비트를 8비트씩 끊어서 네 개의 옥텟으로 구분하고 있고, 숫자의 범위도 정해져 있다.
    - 8비트 범위
      - 00000000 ~ 11111111
    - 10진수의 범위
      - 0 ~ 255
    - `그림 5-11` 8비트의 범위와 10진수의 범위
- IP 주소는 **네트워크 ID**와 **호스트 ID**로 나눠져 있다.
  - 네트워크 ID는 **'어떤 네트워크'**인지를 나타낸다.
  - 호스트 ID는 **'해당 네트워크의 어느 컴퓨터'**인지를 나타낸다.
  - 두 가지 정보가 합쳐져서 IP 주소가 된다.



### LESSON 19. IP 주소의 클래스 구조

- IP주소 클래스란?
  - 네트워크 ID를 크게 만들거나 호스트 ID를 작게 만들어 네트워크 크기를 조정할 수도 있다.
  - 네트워크 크기는 클래스라는 개념으로 구분하고 있다.
    - IP 주소는 네트워크의 규모에 따라 A~E 클래스로 나누어져 있다.
    - `그림 5-1` 클래스의 종류 참고
  
- 일반 네트워크에서는 A~C 클래스까지 사용할 수 있다.

  - A 클래스는 처음 8비트가 네트워크 ID고 다음 24비트가 호스트 ID이다.
  - B 클래스는 처음 16비트가 네트워크 ID고 다음 16비트가 호스트 ID이다.
  - C 클래스는 처음 24비트가 네트워크 ID고 다음 8비트가 호스트 ID이다.

- IP 주소의 클래스별 호스트 수는 A 클래스가 1677만 7214대, B 클래스가 6만 5534대, C 클래스가 254대다. 

  - 가정의 랜에서는 주로 C 클래스의 사설 IP 주소인 192.168.O.O이 사용된다.
  - A 클래스의 하나의 네트워크가 약 1600만개의 IP 주소를 가질 수 있다.

- 공인 IP 주소와 사설 IP 주소를 포함한 클래스 범위

  |   종류   |                     공인 IP 주소의 범위                      |
  | :------: | :----------------------------------------------------------: |
  | A 클래스 |    1.0.0.0 ~ 9.255.255.255<br/>11.0.0.0 ~ 126.255.255.255    |
  | B 클래스 | 128.0.0.0 ~ 172.15.255.255<br/>172.32.0.0 ~ 191.255.255.255  |
  | C 클래스 | 192.0.0.0 ~ 192.167.255.255<br/>192.169.0.0 ~ 223.255.255.255 |


|   종류   |      사설 IP 주소의 범위      |
| :------: | :---------------------------: |
| A 클래스 |   10.0.0.0 ~ 10.255.255.255   |
| B 클래스 |  172.16.0.0 ~ 172.31.255.255  |
| C 클래스 | 192.168.0.0 ~ 192.168.255.255 |




### LESSON 20. 네트워크 주소와 브로드캐스트 주소의 구조

- IP 주소에는 네트워크 주소와 브로드캐스트 주소가 있다.
  - 이 두 주소는 특별한 주소로 컴퓨터나 라우터가 자신의 IP로 사용하면 안 되는 주소다.
  - C 클래스 사설 IP 주소가 있다고 가정하자.
    - 네트 워크 ID와 호스트 ID가 있겠지?
    - 호스트 아이디가 2진수로 00000000 10진수로 0이면 네트워크 주소이다.
    - 호스트 아이디가 2진수로 11111111 10진수로 255이면 네트워크 주소이다. 
  - 공인 IP 주소에서도 호스트 부분 모두 0이면 네트워크 주소고 모두 1이면 브로드캐스트 주소이다.
    - A 클래스 IP 주소 1.0.0.0
      - 네트워크 주소 1.0.0.0
      - 브로드캐스트 주소 1.255.255.255
- 네트워크 주소는 전체 네트워크에서 작은 네트워크를 식별하는데 사용된다.
  - 전체 네트워크의 대표 주소라고 생각하면 된다.
  - `그림 5-25` 네트워크의 범위 참고
- 브로드캐스트 주소는 네트워크에 있는 컴퓨터나 장비 모두에게 한 번에 데이터를 전송하는 데 사용되는 전용 IP 주소이다.
- '네트워크 주소와 브로드캐스트 주소는 자신의 IP 주소로 설정하면 안 된다'는 것을 반드시 기억하자.



### LESSON 21. 서브넷의 구조

- 서브넷이란?
  - A 클래스 네트워크는 IP 주소 1677만 7214개를 사용할 수 있다.
    - 이 많은 컴퓨터가 브로드캐스트 패킷을 전송하면 네트워크가 너무 혼잡해 지지않을까?
  - A 클래스의 대규모 네트워크를 작은 네트워크로 분할하여 브로드캐스트로 전송되는 패킷의 범위를 좁힐 수 있다.
    - 이렇게 하면 더 많은 네트워크를 만들 수 있어서 IP 주소를 더 효과적으로 활용할 수 있다.
  - 네트워크를 분할하는 것을 **서브넷팅**(subneting)이라고 한다.
    - 물론 B 클래스, C 클래스도 서브넷팅 할 수 있다.
  - 분할된 네트워크를 **서브넷**(subnet)이라고 한다.
  - 기존의 네트워크 ID와 호스트 ID로 구성되어 있던 것이 네트워크 ID, 서브넷 ID, 호스트 ID로 나누어지게 된다.
- 서브넷 마스크란?
  - 서브넷 마스크는 네트워크 주소와 호스트 주소를 식별하는 값이다.
    - 이진수로 네트워크 ID는 1, 호스트 ID는 0으로 표현
    - 11111111|11111111|11111111|00000000
  - 프리픽스(prefix) 표기법
    - 서브넷 마스크를 슬래시(/비트 수)로 나타내는 것을 말한다.
    - 255.255.255.0은 /24
  - C 클래스의 네트워크를 둘로 나누고 싶다.
    - 11111111|11111111|11111111|10000000
      - 호스트에서 하나 빌려서 서브넷 ID로 만들었다.
        - 그래서 네트워크는 총 25비트가 되었다.
      - 프리픽스 표기법으로는 /25
        - /25를 보면 'C 클래스 네트워크를 2개로 분할 했구나'하고 생각하면 되겠군.
          - 2^25-24
          - /28
            - 2^28-24, 2^3 8개의 네트워크로 분할
    - 서브넷 마스크와 IP 주소들을 AND 연산한다.
      - 서브넷 마스크가 1인건 그대로 그리고 0인건 다 0이 된다.
      - 그러면 IP 주소가 호스트 ID의 이진수 첫 번째가 1인 것과 0인 것 둘로 나눠지게 된다. 
      - 2개로 네트워크가 논리적으로 분할되었다.
        - 호스트 ID에서 한 개 빌려와서 2^1 그래서 2개
        - 호스트 ID에서 두 개 빌려오면 2^2 그래서 4개
          - 256개의 IP를 4개의 네트워크로 논리적으로 분할
- 용어 정리
  - 서브넷
    - 큰 네트워크를 분할해서 만든 작은 네트워크다.
  - 서브넷팅
    - 네트워크를 분할하기 위해 IP 주소의 구성을 변경하는 작업이다.
  - 서브넷 ID
    - IP 주소의 네트워크 부분을 늘리기 위해 서브넷 마스크로 사용되는 비트로 서브넷 비트(subnet bits)라고도 한다.
  - 서브넷 마스크
    - IP 주소의 네트워크 부분만 나타나게 하여 같은 네트워크인지를 판별하게 하는 마스크다.



### LESSON 22. 라우터의 구조

- 라우터란?
  - 라우터는 네트워크를 분리할 수 있다.
    - `그림 5-37` 라우터는 네트워크를 분리한다 참고
  - 스위치(레이어 2 스위치)만 있는 네트워크에서는 모든 컴퓨터와 스위치가 동일한 네트워크에 속하게 된다.
    - `그림 5-38`과 같이 동일한 네트워크에 속하게 된다 참고
  - 컴퓨터 1이 다른 네트워크에 데이터를 전송 하려면 라우터의 IP 주소를 설정해야 한다.
    - 네트워크의 출입구를 설정하는 것으로 기본 게이트웨이(default gateway)라고 한다.
  - 라우터의 IP 주소를 왜 지정할까?
    - 컴퓨터 1은 다른 네트워크로 데이터를 보낼 때 어디로 전송해야 하는지 알지 못한다.
    - 그래서 네트워크의 출입구를 지정하고 일단 라우터로 데이터를 전송한다.
  - 많이 봤던 윈도우 설정 화면에 '자동으로 IP 주소 받기'
    - 여기에 체크를 하면 네트워크 외부에 접솔할 때 사용되는 기본 게이트웨이가 자동으로 설정된다.
- 라우팅이란?
  - 경로 정보가 등록되어 있는 테이블이 라이팅 테이블이다.
    - 라우팅은 라우팅 테이블의 경로 정보를 기반으로 현재의 네트워크에서 다른 네트워크로 최적의 경로를 통해 데이터를 전송한다.
  - 라우팅 테이블은 어떻게 등록되나?
    - 네트워크 관리자가 수동으로 등록하는 방법과 자동으로 등록하는 방법이 있다.
      - 수동으로 등록하는 방법은 소규모 네트워크에 적합하다.
      - 자동으로 등록하는 방법은 대규모 네트워크에 적합하다.
    - 자동으로 등록하는 방법은 라우터 간에 경로 정보를 서로 교환하여 라우팅 테이블 정보를 자동으로 수정해준다.
      - 라우터 간에 라우팅 정보를 교환하기 위한 프로토콜을 라우팅 프로토콜이라고 한다.
        - 대표적인 라우팅 프로토콜에는 RIP, OSPF, BGP 등이 있고 각각 다른 특징이 있다고 한다.
- 기본 게이트웨이
  - 인터넷 등 다른 네트워크로 나가기 위해서는 게이트웨이(라우터)가 있어야 하고 IP 주소, 서브넷 마스크와 함께 게이트웨이 주소까지 정확하게 설정해야 한다.
  - 컴퓨터가 서로 통신하기 위해서는 모든 컴퓨터마다 유일한 IP 주소를 할당해야 하듯, 게이트웨이에도 중복되지 않는 IP 주소가 필요하다.
    - 이 IP 주소를 토대로 각 컴퓨터가 다른 네트워크와 연결된다. 
  - 일반적으로 게이트웨이의 IP 주소는 해당 네트워크 내 컴퓨터에 할당된 IP 주소 중 끝자리(4번째 옥텟)만 다른 형태다.
    - 대게 1을 지정한다. 
  - 게이트웨이 IP 주소 설정이 잘못되면 외부 네트워크(인터넷) 연결이 불가능하다.
- 용어 정리
  - 라우터
    - 서로 다른 네트워크를 연결해 주는 장치로 현재의 네트워크에서 다른 네트워크로 패킷을 전송할 수 있도록 한다.
  - 라우팅
    - 네트워크에서 패킷을 목적지로 보낼 때 목적지까지 갈 수 있는 여러 가지 경로 중 한 가지 경로를 설정해 주는 과정이다.
  - 라우팅 테이블
    - 컴퓨터 네트워크에서 목적지 주소를 목적지에 도달하기 위한 네트워크 노선으로 변환시킬 목적으로 사용된다.
    - 다른 네트워크로 가기 위한 가장 좋은 라우터의 정보를 가지고 있다.



## 6장 전송 계층 : 신뢰할 수 있는 데이터 전송하기

### LESSON 23. 전송 계층의 역할

### LESSON 24. TCP의 구조

### LESSON 25. 일련번호와 확인 응답 번호의 구조

### LESSON 26. 포트 번호의 구조

### LESSON 27. UDP의 구조



## 7장 응용 계층 : 애플리케이션에 데이터 전송하기

### LESSON 28. 응용 계층의 역할

### LESSON 29. 웹 서버의 구조(웹 사이트 접속)

### LESSON 30. DNS 서버의 구조(이름 해석)

### LESSON 31. 메일 서버의 구조(SMTP와 POP3)



## 8장 네트워크의 전체 흐름 살펴보기

### LESSON 32. 랜 카드에서의 데이터 전달과 처리

### LESSON 33. 스위치와 라우터에서의 데이터 전달과 처리

### LESSON 34. 웹 서버에서의데이터 전달과 처리



## 9장 무선 랜 이해하기

### LESSON 35. 무선 랜의 구조

### LESSON 36. SSID의 구조

