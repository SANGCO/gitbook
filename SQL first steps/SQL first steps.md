

## 1장 데이터베이스와 SQL

- 데이터베이스란?
  - 넓게 보면 컴퓨터 안에 기록된 모든 것.
  - 일반적으로는 특정 데이터를 확인하고 싶을 때 간단하게 찾아낼 수 있도록 정리된 형태를 말한다.



- DB와 DBMS는 다르다.
  - 데이터베이스는 저장장치 내에 정리되어 저장된 데이터의 집합을 말한다.	
    - 우리가 들고 다니는 스마트폰에서 DB가 내장되어 있다.
  - DB를 효율적으로 관리하는 소프트웨어가 데이터베이스 관리 시스템(DBMS)



- SQL의 종류
  - DML (Data Manipulation Language)
    - 데이터 조작
  - DDL (Data Definition Language)
    - 데이터 정의
  - DCL (Data Control Language)
    - 데이터베이스 제어(트랜잭션을 제어하는 명령, 데이터 접근권한을 제어하는 명령 등)



- 관계형 데이터베이스 관리 시스템을 RDBMS라고 부른다.
   - 우리가 아는 대부분의 DB 제품들이 RDBMS이다.
  - 안드로이드에 들어가는 RDBMS는 SQLite이다.



- SQL에도 방언이 있다고 한다. 
  - 방언 대신에 표준 SQL을 사용하자. (ISO, ANSI 등에서 결정)



- 데이터베이스 서버
  - RDBMS는 클라이언트/서버 모델로 구성된다.	
  - 클라이언트는 데이터베이스 서버에 접속해 SQL 명령을 실행하여 DB를 조작할 수 있습니다.





## 2장 테이블에서 데이터 검색

- ERROR 1046 (3D000) : No database selected
  - use sample
    - sample 이라는 데이터베이스 사용한다고 명령어 날리면 된다.
  - 루트계정에서 데이터베이스를 만들고 다른 유저에게 권한을 주는식으로 돌아간다고 한다.	
  - 루트계정이 아니면 데이터베이스를 생성 할 수가 없다고 한다.



- 문자형에는 고정 길이와 가변 길이가 있다.
  - CHAR(5)
    - 고정 길이 문자열은 'ABC'를 넣을 때 나머지를 공백으로 채워서 넣는다.
    - 캐릭터가 필요한 상황이 있다. 
      - 딱 고정된 경우 EX) 주민등록번호, 핸드폰 번호
  - VARCHAR(5) 
    - 가변 길이 문자열이라 'ABC'를 넣을 때 'ABC'만 들어간다.
  - VARCHAR는 가변길이를 지원하기 위해 추가적인 오버헤드가 있어서 용량이 조금 늘어난다.	
    - 접근 성능도 미묘하게 떨어지게 된다고 한다.
  - 문자열에는 구분자처럼 null이 붙는다. 
    - 가비지값과 문자열을 NULL로 구분 하는듯.	
  - 고정길이 레코드
    - 배열처럼 접근	
  - 가변길이 레코드
    - 해시테이블처럼 접근	
  - 옛날에는 크리티컬했는데 요즘은 그냥 VARCHAR 쓴다고 한다. 
  - 오라클에 VARCHAR2는 성능이 더 좋다고 한다.



- 서로 같은 값인지를 비교하는 연산자 '=', 서로 다른 값인지를 비교하는 '<>' 연산자
  - WHERE no <> 2;



- NULL 값을 검색할 경우에는 IS NULL을 사용한다.
  - WHERE birthday IS NULL;



- AND, OR, NOT
  - 조건식1 AND 조건식2조건식1 OR 조건식2
  - NOT 조건식
  - WHERE a=1 OR (a=2 AND B=1) OR b=2;
  - WHERE NOT(a<>0 OR b<>0);



- LIKE 술어를 사용하여 패턴 매칭으로 검색할 수 있다.
  - WHERE text LIKE 'SQL%'; - 전방 일치
  - WHERE text LIKE '%SQL%'; - 중간 일치
  - WHERE text LIKE '%SQL'; - 후방 일치
  - '%\%%' - % 그 자체 문자를 검색
  - 'It's' - > 'It''s'



## 3장 정렬과 연산

- 정렬 ORDER BY
  - 수치형과 문자열형 데이터는 대소관계의 계산 방법이 다르다!
    - 문자열형에 숫자를 넣으면 헤깔릴 여지가 있을듯.
  - SELECT * FROM sample32 ORDER BY a ASC, b EDSC;
    - NULL 값의 정력순서는 표준 SQL에 규정되어 있지 않아 데이터베이스 제품에 따라 다르다고
    - MySQL의 경우는 NULL값을 가장 작은 값으로 취급함.	
    - ASC(오름차순)에 가장 먼저, DESC(내림차순)에서 가장 나중에 표시함.



- 결과 행 제한하기 LIMIT
  - SELECT * FROM sample33 ORDER BY no DESC LIMIT 3;	
  - SELECT TOP 3 * FROM sample33;
  - 페이지 나누기 기능
    - SYNTAX - OFFSET 지정	
    - SELECT 열명 FROM 테이블명 LIMIT 행수 OFFSET 위치
  - 열의 별명
    - 이름에 ASCII 문자 이외의 것을 포함할 경우는 더블쿼트로 둘러싸서 지정한다.
    - 더블쿼트 데이터베이스 객체명, 싱글쿼트 문자열 상수



## 4장 데이터의 추가, 삭제, 갱신



## 5장 집계와 서브쿼리

- Having은 GROUP BY로 그룹화를 하고 조건을 주기위해서 나왔다.
  - 내부처리 순서 : where -> group by -> having -> select -> order by
    - where가 처리되고 group by가 처리되는 순서이다.



## 6장 데이터베이스 객체 작성과 삭제

- 스키마나 테이블은 이름이 충돌하지 않도록 기능하는 네임스페이스 이기도 하다.
  - 테이블이나 스키마는 무엇인가를 담는 그릇 역할을 한다.
  - 테이블은 열을 스키마는 테이블을 정의할 수 있다. 

