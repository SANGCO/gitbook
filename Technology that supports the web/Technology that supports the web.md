

## 01 웹 개론

- 웹 서비스

  - 웹에서 제공하는 서비스나 사이트. 
  - 블로그 서비스 소셜 북마크 서비스 등이 웹 서비스이다.

- 웹 API

  - 프로그램용 인터페이스API는 뭔가 기능을 제공해 주는 거다.	
  - 웹 서비스를 제공하기 위해서 웹 API의 지원을 받는 거다.

- HTTP란 뭘까? 이름에 깊이있게 접근을 해보자.

  - Hypertext Transfer Protocol, 하이퍼텍스트를 이동시키는 규약이라

  - 그러면 하이퍼텍스트는 뭔가? 하이퍼는 뭔가?

    - 'hyper(초월한)'와 'text(문서)' by 테드 넬슨, 재나두 프로젝트	

      하이퍼텍스트는 노드와 링크로 구성되어 있다.	

      노드는 문서를 뜻하고 링크는 문서를 서로 연결하는 통로를 뜻한다.

- 하이퍼미디어란 텍스트와 이미지, 음성, 영상 등 다양한 미디어를 하이퍼링크로 연결해 구성한 시스템
- 웹은 전 세계에 배치된 서버에 전 세계의 브라우저가 액세스하는 분산 시스템이다.	
- 분산 시스템으로서의 웹이 특징은 프로토콜이 심플하다는 점



## 02 웹의 역사

- 웹에 아버지라는 팀 버너스리는 뭘 개발 한건가?
  - www = 웹
  - www(월드 와이드 웹) 흔히 웹이라고 불린다. (세계의 망을 하나로 묶는 거대한 인트라넷)
    - 버너스리가 구상한 웹이 분산 시스템에 기반하고 있는건가? 그렇다고 한다.
  - 웹과 클라이언트(컴퓨터)를 연결하는 HTTP 프로토콜 방식을 고안
  - 사이트를 갈 수 있는 URL(인터넷 주소)이라는 방식도 고안
  - 이런 기술들을 특허도 내지 않고 무료로 풀어 버렸단다. 아버지가 맞구만
- 버너스리가 중심이 되어 설립된 W3C(월드와이드웹 컨소시엄)
	- HTML, XML, HTTP, URI, CSS 등의 표준화 작업이 이루어짐.
- HTML과 Atom은 XML을 베이스로 한 구조화 문서용 마크업 언어이기 때문에 데이터를 기술하기 위한 표기가 너무 중복되었음.
  - 그래서 좀 더 단순한 데이터 포맷이 몇 가지 제안 되었고 그 중에서 디팩토 스탠더드(사실상 표준)가 된 것이 JSON이다.
- SOAP와 REST에 관한 논쟁
  - 구글, 아마존 같은 기업들은 REST 형식의 웹 API를 제공하기 시작하면서 REST 승리
  - 웹 2.0에서 중요한건 매쉬업
    - 매쉬업이란 여러가지 웹 API가 제공하는 정보를 조합하여 하나의 애플리케이션을 실현하는 방법
      - 매쉬업에서는 가벼움이 요구됨.
    - 그래서 웹 API가 제공하는 리소스를 HTTP와 URI로 간단히 조작할 수 있는 REST 스타일이 승리
- 모든 것은 웹으로
  - 적어도 유저 인터페이스는 웹으로 통일, 엔드 유저는 웹만 인식하게 되었다(Ajax도 한목 했다고).




## 03 REST 웹의 아키텍처 스타일

- REST는 웹의 아키텍처 스타일이다.
  - 아키텍처와 아키텍처 스타일은 다르다.
    - 실제 시스템은 구체적인 아키텍처를 가지고 있다.	
      - 그 아키텍쳐를 설계할 때, 그냥 막 만드는게 아니라 아키텍처 설계 지침, 규정, 방식 즉 아키텍처 스타일을 적용한다.
  - 패턴, 디자인패턴 등은 아키텍처 스타일보다는 입도(낟알 모양, Granulariry)가 작은 클래스 등의 설계양식



- REST는 많은 아키텍처 스타일 중에서도 네트워크 시스템 아키텍처 스타일이다.
  - 네트워크 시스템 아키텍처 스타일의 대표선수는 클라이언트/서버 그리고 웹이 클라이언트/서버 이기도 하다.
  - 웹은 REST기도 하고 클라이언트/서버이기도 합니다.
  - 순수한 클라이언트/서버 아키텍처 스타일에 몇 가지 제약을 더해가면, REST라는 아키텍처 스타일이 된다.
  - 한 사람 한 사람이 만드는 각 웹서비스와 웹API에서도 REST의 규약을 지키는 것이 중요하다.	
    - 개별 웹 서비스가 전체의 조화를 무너뜨린다면, 전체가 통일된 아키텍처 스타일을 지킬 수 없기 때문에
  - 리소스는 웹상에 존재하는 이름을 가진 모든 정보이다. 리소스의 이름이란 URI를 말한다.



- 스타일을 조합하여 REST를 구성한다.
  - REST는 복수의 아키텍처 스타일을 조합하여 구축한 복합 아키텍처 스타일이다. 
  - 클라이언트/서버 이외의 아키텍처 스타일을 추가하고 제약을 부과하면서 REST를 구축해 나가 보잔다.



- 유니폼/계층화/코드 온 디맨드/클라이언트/캐시/스테이트리스 
  - 서버클라이언트/서버
    - 유저 인터페이스와 처리를 분리한다.
  - 스테이트리스 서버
    - 서버 측에서 애플리케이션의 상태를 가지지 않는다.
  - 캐시
    - 클라이언트와 서버의 통신횟수와 양을 감소시킨다.
  - 유니폼 인터페이스
    - 인터페이스를 고정한다.계층화 시스템 : 시스템을 계층별로 분리한다.
  - 코드 온 디맨드
    - 프로그램을 클라이언트에 다운로드하여 실행한다.



- REST에 기초한 아키텍처를 구축할 경우라도 REST를 구성하는 스타일 중 몇 가지를 제외하더라도 상관없다고



- 우리가 만드는 웹 서비스나 웹 API도 웹을 구성하는 일부분임	
  - 개별 웹 서비스와 웹 API 들이 RESTful이 되면, 웹은 전체적으로 더욱 좋아진다고 한다.



## 04 URI의 스펙

- URI
  - Uniform Resource Identifier, 리소스를 통일적으로 식별하는 ID		
  - URI Scheme
    - http		
  - 호스트명
    - blog.example.com		
  - 패스
    - /search		
  - 쿼리 파라미터, 쿼리 스트링
    - q=test&debug=true



- URI에 '가'가 '%EA%B0%80'로 나오는 이유
  - %인코딩에서는 UTF-8 문자를 구성하는 각 바이트를 '%xx(xx는 16진수)'로 기술하여 URI에 사용할 수 없는 문자를 표현합니다.



## 05 URI의 설계



## 06 HTTP의 기본

- TCP/IP란 무엇일까
  - 계층형 프로토콜
    - 각 계층별로 추상화하여 구현하면, 하위 계층에 엮이지 않는다.	
    - 예를 들어 물리적으로 케이블이 동선인지 광케이블인지 하는 계층의 구체적인 사항에 좌우되지 않고, 상위 계층을 구현할 수 있다고 한다.

  - 네트워크 인터페이스 계층
    - 물리적인 케이블이나 네트워크 어댑터에 해당하는 부분
  - 인터넷 계층
    - TCP/IP 중에 IP가 여기에 해당한다. 
      - 네트워크에서 데이터를 실제로 주고받는 역할을 한다고
    - IP에서는 데이터의 기본적인 통신단위를 '패킷'이라고 부르며 지정한 IP 어드레스와 패킷 단위로	데이터를 주고 받으면서 통신한다.
  - 트랜스포트 계층
    - IP가 하지 않았던 데이터의 무결성을 보증하는 역할
    - TCP는 목적지의 상대에 대해서 커넥션을 연결한다. 
      - 이 커넥션을 사용해 데이터의 누락을 체크하고 데이터의 도달을 보증한다.
    - 데이터가 어느 애플리케이션으로 전달될지 결정하는 것이 포트번호
  - 애플리케이션 계층
    - TCP로 프로그램을 만들 때는 소켓이라고 불리는 라이브러리를 사용하는 것이 일반적이다고 한다.
    - 소켓은 네트워크에서의 데이터 교환을 추상화한 API로 접속, 송신, 수신, 절단 등의 기본적인 기능을 가지고 있다고
    - HTTP를 실현하는 계층, 대부분의 프로그래밍 언어에는 HTTP를 구현한 라이브러리가 준비되어 있기 때문에 소켓을 사용해 HTTP를 독자적으로 구현할 일은 거의 없다.



- HTTP 메세지
  - 요청 메세지
    - 요청 라인
      - 요청 메시지의 첫 번째 라인을 요청 라인이라고 한다.
  - 응답 메세지
    - 스테이터스 라인
      - 응답 메시지의 첫째 줄을 스테이터스 라인이라고 한다.



- 자기 기술적 메세지 (Self Descriptive Message)
  - 스테이트리스한 서버는 애플리케이션 상태를 기억할 필요가 없기 때문에 서버 시스템이 단수해 진다.



- 심플한 프로토콜의 강점
  - HTTP의 심플함은 강력한 무기이다. 이 심플함 덕분에 웹 서비스와 웹 API가 같은 프로토콜로 실현될 수 있었다고



## 07 HTTP 메서드

- 멱등성(Idmepotence)과 안전성(Safe)
  - 멱등성이란 '어떤 조작을 몇 번을 반복해도 결과가 동일한 것'을 의미
  - 안전이란 '조작 대상의 리소스의 상태를 변화시키지 않는 것'을 의미함.
  - GET, HEAD 멱등이고 안전하다.	
  - PUT, DELETE 멱등이지만 안전하지 않다.	
  - POST 멱등이지도 안전하지도 않다.



## 08 스테이터스 코드





## 09 HTTP 헤더






